<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script>
      // 你的 GitHub Pages 專案路徑（很重要）
      var BASE = "/BingX.77invite/";

      // 目前使用者刷新的路徑，例如 /BingX.77invite/about
      var path = window.location.pathname;

      // 如果不在 BASE 底下，就直接回 BASE
      if (!path.startsWith(BASE)) {
        window.location.replace(BASE);
      } else {
        // 把 /BingX.77invite/ 後面的路徑抽出來，例如 about
        var subPath = path.slice(BASE.length);

        // 把它塞到 query，回到 index.html 讓前端接手還原
        var newUrl =
          BASE +
          "?p=" +
          encodeURIComponent(subPath) +
          "&q=" +
          encodeURIComponent(window.location.search.slice(1));

        window.location.replace(newUrl);
      }
    </script>
  </head>
  <body></body>
</html>
